    <div id="map"></div>
      <script type="text/javascript">
      
      var m= L.map('map').setView([78, 15], 4);

var mapQuestAttr = 'Tiles Courtesy of <a href="http://www.mapquest.com/">MapQuest</a> &mdash; ';
var osmDataAttr = 'Map data &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors';
var mopt = {
    url: 'http://otile{s}.mqcdn.com/tiles/1.0.0/osm/{z}/{x}/{y}.jpeg',
    options: {attribution:mapQuestAttr + osmDataAttr, subdomains:'1234'}
  };
var mq=L.tileLayer(mopt.url,mopt.options);

mq.addTo(m);
  /* var circleLocation = new L.LatLng(78.508, 14.11),
             circleOptions = {
                 color: 'blue', 
                 fillColor: '#f03', 
                 fillOpacity: 0.5
             };
             
         var circle = new L.Circle(circleLocation, 500, circleOptions);
         m.addLayer(circle);*/

function popUp(f,l){



    var out = [];
    if (f.properties){
        for(key in f.properties){
          if (key != "edit" && key != "deployment") {
            out.push("<dt>"+key+"</dt><dd><a href=\"{{self}}"+"&group=measured-isodate&filter-"+key+"="+f.properties[key]+"\">"+f.properties[key]+"</a></dd>");
          }
            
        }
        out.push("<dt>edit</dt><dd>"+f.properties["edit"]+"</dd>");
        out.push("<dt>deployment</dt><dd>"+f.properties["deployment"]+"</dd>");
        //out.push("<dt>group</dt><dd>{group}</dd>");
        l.bindPopup("<dl class=\"dl-horizontal\">"+out.join("")+"</dl>");
      
        
    }
}
var jsonTest = new L.GeoJSON.AJAX(["{{{ self }}}&format=geojson&fields=id,edit,measured,updated,object,species,deployed,individual,platform,deployment,location,type,technology,latitude,longitude&filter-latitude=-90..90"],
  {
    onEachFeature:popUp
    }).addTo(m);
</script>