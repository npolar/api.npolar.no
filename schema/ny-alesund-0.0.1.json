{
  "$schema":"http://json-schema.org/draft-04/schema#",
  "id":"http://api.npolar.no/schema/dataset-draft-0.0.1",
  "title":"",
  "description":"Metadata related to the Ny-Ã…lesund research stations",
  "type":"object",
  "additionalProperties":false,
  "required":["title"],
  "properties":{
    "id":{
      "description":"Identifier (UUID | URI)",
      "type":"string"
    },
    "title":{
      "description":"Title describing the dataset",
      "type":"string"
    },
    "topic":{
      "description":"Topic of the dataset",
      "type":"string",
      "enum":[
        "atmosphere",
        "marine-biology",
        "terrestrial-biology",
        "cryosphere",
        "geology",
        "oceanography",
        "social sciences",
        "space sciences",
        "technology and engineering",
        "other"
      ]
    },
    "summary": {
      "description": "free text description of the dataset. Instrument, System, Method, frequency and time resolution should be mentioned here.",
      "type": "string"
    },
    "parameter":{
      "type":"string"
    },
    "research_station":{
      "description":"Research station the dataset is related to",
      "type":"string",
      "enum":[
        "NPI - Norwegian Polar Institute",
        "AWIPEV - French-German Arctic Research Base",
        "CAA - Chinese Arctic and Antarctic Administration",
        "CNR - National Research Council of Italy",
        "KOPRI - Korean Polar Research Base",
        "NCAOR - National Centre for Antarctic & Ocean Research (India)",
        "NMA - Norwegian Mapping Authority - NMA",
        "NERC - National Environmental Research Council (UK)",
        "NIPR - National Institute for Polar Research (Japan)",
        "UIG - Arctic Centre of the University of Groningen (Netherlands)"
      ]
    },
    "people":{
      "description":"People involved in creating the dataset, roles from http://www.isotc211.org/2005/resources/Codelist/gmxCodelists.xml with 'editor' (meaning metadata editor) added",
      "type":"array",
      "additionalItems":false,
      "required":["first_name", "last_name"],
      "items":{
        "type":"object",
        "additionalProperties":false,
        "properties":{
          "id":{"type":["string", "null"]},
          "first_name":{"type":["string", "null"]},
          "last_name":{"type":"string"},
          "roles":{
            "type":"array",
            "items":{
              "enum":[
                "author",
                "principalInvestigator",
                "processor",
                "pointOfContact",
                "editor"
              ]
            }
          },
          "email":{"type":["string","null"]},
          "homepage":{"type":["string","null"], "pattern":"^http(s)?:\/\/"},
          "organisation":{"type":["string", "null"]}
        }
      }
    },
    "organisations":{
      "description":"Organisations connected to the dataset",
      "type":"array",
      "additionalItems":false,
      "items":{
        "type":"object",
        "additionalProperties":false,
        "properties":{
          "id":{"type":"string"},
          "name":{"type":"string"},
          "gcmd_short_name":{"type":["string", "null"]},
          "roles":{
            "type":"array",
            "items":{
              "enum":[
                "author",
                "originator",
                "owner",
                "pointOfContact",
                "principalInvestigator",
                "publisher",
                "resourceProvider"
              ]
            }
          },
          "email":{
            "type":["string","null"],
            "additionalItems":false,
            "format":"email"
          },
          "homepage":{
            "type":["string","null"],
            "pattern":"^http(s)?:\/\/"
          }
        },
        "required":["name", "roles"]
      }
    },
    "activity":{
      "type":"array",
      "additionalItems":false,
      "items":{
        "type":"object",
        "additionalProperties":false,
        "properties":{
          "start":{"type":["string", "null"], "format":"date-time"},
          "stop":{"type":["string", "null"],  "format":"date-time"}
        }
      }
    },
    "location":{
      "type":"object",
      "properties":{
        "latitude":{
          "type":"number",
          "pattern":"^[-]?((([0-8]?[0-9])(\\.([0-9]{1,8}))?)|((90)(\\.([0]{1,8}))?))$"
        },
        "longitude":{
          "type":"number",
          "pattern":"^[-]?(((([1]?[0-7]?[0-9])|([0-9]?[0-9]))(\\.([0-9]{1,8}))?)|((180)(\\.([0]{1,8}))?))$"
        }
      }
    },
    "links":{
      "description":"Links to data, references, project, parent, doi, related, self, alternate, etc. See IANA's registry:http://www.iana.org/assignments/link-relations/link-relations.xhtml and the Atom Format RFC:http://tools.ietf.org/html/rfc4287 and ",
      "type":"array",
      "additionalItems":false,
      "items":{
        "type":"object",
        "additionalProperties":false,
        "properties":{
          "rel":{"type":"string","enum":["dataset","metadata","RiS"]},
          "href":{"type":"string", "format":"uri"},
          "title":{"type":["string", "null"]},
          "hreflang":{"type":["string", "null"]},
          "length":{"type":["number", "null"]},
          "type":{"type":"string"},
          "hash":{"type":"array"},
          "etag":{"type":"string"},
          "modified":{"type":"string"},
          "acccessed":{"type":"string"}
        },
        "required":["href"]
      }
    },
    "database_suggestion":{
      "description":"If the data is not in a database now, which database should it be in?",
      "type":"string"
    },
    "monitoring_program":{
      "description": "Can this parameter be part of the monitoring program?",
      "type":"boolean"
    }
  }
}
