{
  "id": "http://api.npolar.no/schema/ecotox",
  "$schema": "http://json-schema.org/draft-04/schema",
  "title": "Ecotox",
  "description": "Norwegian Polar Data expedition description.",
  "type": "object",
  "required":[
       "species",
       "matrix"
  ],
  "properties": {
    "id": {
      "description": "Resource identifier (UUID).",
      "type": "string"
    },
    "schema": {
      "description": "Schema defining this object (this schema).",
      "type": "string",
      "enum": [
        "http://api.npolar.no/schema/ecotox"
      ]
    },
    "lang": {
      "description": "The language of the document",
      "type": "string",
      "default": "en",
      "pattern": "^[a-z]{2}$"
    },
    "project": {
      "description": "Project name or other identificator",
      "enum": ["BearHealth","BearEnergy","MOSJ","thesis"],
      "type": "string"
    },
    "laboratory": {
      "description": "Name of laboratory performing analysis",
      "enum": ["NMBU","NILU","Ã–rebro University","Environment Canada"],
      "type": "string"
    },
    "species": {
      "description": "Latin species name",
      "enum": ["ursus maritimus"],
      "type": "string"
    },
    "age": {
      "description": "Age of species",
      "type": "string"
    },
    "sex": {
      "description": "Sex species",
      "enum": ["F","M"],
      "type": ["string","null"]
    },
    "age_group":{
      "description": "Species age group",
      "enum":["coy","yrlg","2yr","subad","ad"],
      "type": "string"
    },
    "bodymass": {
      "type": ["number","null"]
   },
   "girth": {
     "type": ["number","null"]
   },
   "standard_length": {
     "type": ["number","null"]
   },
   "blubber_thinkness_back": {
     "type": ["number","null"]
   },
   "molt": {
     "type": ["boolean","null"]
   },
    "matrix": {
      "description": "Type of sample - eggs, blood etc",
      "type": "string",
      "enum": ["egg",
              "milk",
              "whole blood",
              "blood cell",
              "plasma",
              "serum",
              "abdominal fat",
              "subcutaneous fat",
              "blubber",
              "hair",
              "feather",
              "muscle",
              "liver",
              "brain",
              "adrenal",
              "whole animal"]
    },
    "sample_id":{
      "description": "Id given by the researchers",
      "type": "string"
    },
    "NPI_sample_id":{
      "description": "Internal NPI id",
      "type": "string"
    },
    "lab_id":{
      "description": "Id given by the lab",
      "type": "string"
    },
    "fat_percentage":{
      "description": "Sample fat percentage",
      "type": ["number","null"]
    },
    "references": {
           "type": "array",
           "additionalItems": false,
           "items": {
             "type": "object",
               "reference":{
                 "type": "string"
               }
        }
    },
    "compound": {
           "type": "array",
           "additionalItems": false,
           "items": {
             "type": "object",
             "additionalProperties": false,
             "properties": {
               "analyte_category": {
                 "description": "Category of compound",
                 "type": "string",
                 "enum": ["polychlorinated biphenyls (PCBs)",
                          "brominated flame retardants (BFRs)",
                          "hydroxyl polychlorinated biphenyls (OH-PCBs)",
                          "hydroxyl polybrominated diphenyl ethers (OH-PBDEs)",
                          "poly- and perfluoroalkyl subtances (PFAS)",
			                    "organochlorine pesticides (OCPs)"
                       ]
               },
               "analyte": {
                 "description": "Type of toxic material",
                 "type": "string",
                 "enum": ["HCB","a-HCH","b-HCH","g-HCH",
                   "heptachlor", "oxy-CHL", "t-CHL", "c-CHL",
                   "tn-CHL", "cn-CHL", "op-DDE", "pp-DDE",
                   "op-DDD", "pp-DDD", "op-DDT", "pp-DDT","mirex",
                   "aldrin","dieldrin","endrin","heptachlor epoxide",
                   "CHB-26","CHB-32","CHB-38","CHB-40","CHB-41","CHB-44","CHB-50",
                   "CHB-58","CHB-62","CHB-69","PCB-26",
                   "PCB-28", "PCB-29", "PCB-31", "PCB-44","PCB-47", "PCB-48",
                   "PCB-52","PCB-56", "PCB-66", "PCB-74", "PCB-87", "PCB-99",
                   "PCB-101", "PCB-105", "PCB-110", "PCB-112", "PCB-113","PCB-114",
                   "PCB-118", "PCB-123","PCB-126","PCB-128", "PCB-132",
		               "PCB-136", "PCB-137","PCB-138", "PCB-141","PCB-146", "PCB-149", "PCB-151",
                   "PCB-153","PCB-156", "PCB-157", "PCB-167","PCB-169","PCB-170", "PCB-172","PCB-174",
                   "PCB-177","PCB-180","PCB-183", "PCB-187", "PCB-189","PCB-194", "PCB-195",
                   "PCB-196", "PCB-199","PCB-202", "PCB-203","PCB-204",
                   "PCB-206", "PCB-207", "PCB-208", "PCB-209","BDE-17",
                   "BDE-28", "BDE-47","BDE-49", "BDE-66", "BDE-71","BDE-77","BDE-85","BDE-99", "BDE-100",
                   "BDE-119","BDE-126","BDE-138","BDE-153", "BDE-154", "BDE-156",
                   "BDE-183", "BDE-184","BDE-191","BDE-196","BDE-197","BDE-206",
                   "BDE-207","BDE-208","BDE-209","ATE","BTBPE","TBP",
                   "HBCDD","PBT","PBEB","DPTE","HBB","EHTBB","DBDPE",
                   "PCP","4-OH-CB106","4-OH-CB107","4-OH-CB108",
                   "3-OH-CB118","4-OH-BDE42","3-OH-BDE47",
                   "6-OH-BDE47","4-OH-BDE49","2-OH-BDE68","4-OH-CB120",
                   "4-OH-CB130","3-OH-CB138",
                   "4-OH-CB146","3-OH-CB153","4-OH-CB159","4-OH-CB163",
                   "4-OH-CB172","3-OH-CB180","4-OH-CB187", "4-OH-CB193","4-OH-HpCS",
                   "PFHxA","PFHpA","PFOA","PFNA","PFDA","PFUnDA",
                   "PFDoDA","PFTrDA","PFTeDA","PFBS","PFHxS","PFOS","PFDS","PFBA",
                   "PFPA","FOSA","N-MeFOSA","N-MeFOSE","N-EtFOSA","N-EtFOSE","brPFOS",
                   "linPFOS","FTSA",
                   "1-3-DCB","1-4-DCB","1-2-DCB",
                   "1-3-5-TCB","1-2-4-TCB","1-2-3-TCB","hexachlorobutadiene",
                   "1-2-3-4-TTCB","PECB","pentachloroanisole","octachlorostyrene",
                   "a-endosulfan","b-endosulfan","methoxychlor"]
               },
               "wet_weight":{
                   "description":"weight of pollutant found in wet weight including n.a. and n.d",
                   "type":["number","null","n.a.","n.d"]
               },
               "lipid_weight":{
                   "description":"weight of pollutant found in lipid weight including n.a. and n.d",
                   "type":["number","null","n.a","n.d"]
               },
               "percent_recovery": {
                 "description": "Percentage recovered of a spiked reference sample",
                 "type": ["number","null"]
               },
               "unit": {
                "description": "measured  unit",
                "type": "string",
                "enum": ["ng/g","pg/g"]
               },
               "detection_limit": {
                 "description": "Smallest concentration detectable",
                 "type": ["number","null"]
               }
             }
           }
},
"people": {
     "description": "People responsible for dataset",
     "type": "array",
     "additionalItems": false,
     "items": {
       "type": "object",
       "additionalProperties": false,
       "properties": {
         "id": {
           "type": "string"
         },
         "first_name": {
           "type": "string"
         },
         "last_name": {
           "type": "string"
         },
         "organisation": {
           "type": [
             "string",
             "null"
           ],
           "enum": ["NPI","UiT","UiO","NTNU","NMBU"]
         }
       }
     }
},
    "date_sample_collected": {
      "description": "The event day for date sampling",
      "type": "string"
    },
    "date_report": {
      "description": "Date when report was written",
      "type": "string"
    },
    "latitude": {
      "type": ["number","null"],
      "minimum": -90.0,
      "maximum": 90.0
    },
    "longitude": {
      "type": ["number","null"],
      "minimum": -180.0,
      "maximum": 180.0
    },
     "placename": {
       "type": "string"
    },
    "ownership": {
      "description": "Who owns the data",
      "enum": [
        "NPI",
        "NTNU",
        "UiO",
        "NPI,UiO",
        "NPI,NMBU",
        "NPI,NTNU,NMBU"
      ],
      "type": "string"
    },
"excel": {
     "description": "Original excel file(s)",
     "type": "array",
     "additionalItems": false,
     "items": {
       "type": "object",
       "additionalProperties": false,
       "properties": {
         "excel_uri": {
          "description": "Uri to excel form",
          "type": "string",
          "format": "uri"
    },
    "excel_filename": {
          "description": "Excel filename",
          "type": "string"
    },
    "excel_type":{
          "description": "Excel type",
          "type": "string"
    },
    "excel_length":{
          "description": "Excel file length",
          "type": "integer"
      }
         }
       }
},
      "collection": {
        "description": "The storage collection the document belongs to.",
        "type": "string",
        "enum": [
          "ecotox"
        ]
      },
      "comment": {
        "description": "A free text comment for anything of importance to the expedition description.",
        "type": ["string","null"]
      },
      "created": {
        "description": "The date the document was created.",
        "type": "string",
        "format": "date-time"
      },
      "updated": {
        "description": "The date the document was last updated.",
        "type": "string",
        "format": "date-time"
      },
      "created_by": {
        "description": "The username of the person who first created the document in the system.",
        "type": "string"
      },
      "updated_by": {
        "description": "The username of the person who last updated the document in the system.",
        "type": "string"
      },
      "_id": {
        "description": "Internal resource identifier.",
        "type": "string"
      },
      "_rev": {
        "description": "Internal revision number.",
        "type": "string"
      },
      "_deleted":{
        "description": "Deleted entry",
        "type": "string"
      }
    }
}
