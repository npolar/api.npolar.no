{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "id": "http://api.npolar.no/schema/publication-1.0-rc2",
    "title": "Publication",
    "description": "A publication reference",
    "type": "object",
    "additionalProperties": false,
    "required": [
        "title",
        "schema",
        "collection",
        "published-year",
        "people",
        "topics",
        "review_progress",
        "state",
        "publication_type"
    ],
    "properties": {
        "id": {
            "description": "Identifier (UUID | URI)",
            "type": "string"
        },
        "schema": {
            "type": "string"
        },
        "collection": {
            "enum": [
                "publication"
            ]
        },
        "base": {
            "enum": [
                "http://api.npolar.no"
            ]
        },
        "draft": {
            "enum": [
                "yes",
                "no"
            ]
        },
        "title": {
            "description": "Exact title of the publication",
            "type": "string"
        },
        "original_lang": {
            "type": "string"
        },
        "scientific_abstract": {
            "type": "string"
        },
        "norw_summary": {
            "type": "string"
        },
        "review_progress": {
            "enum": [
                "none",
                "started",
                "reviewed"
            ]
        },
        "programme": {
            "title": "ICE programmes",
            "description": "Select none or several ICE programmes affiliated with the publication",
            "type": "array",
            "additionalItems": false,
            "items": {
                "type": "string",
                "enum": [
                    "ICE Ecosystems",
                    "ICE Fluxes",
                    "ICE Antarctica",
                    "N-ICE"
                ]
            }
        },
        "publication_type": {
            "enum": [
                "peer-reviewed",
                "editorial",
                "review",
                "correction",
                "book",
                "poster",
                "report",
                "abstract",
                "phd",
                "master",
                "proceedings",
                "popular",
                "other"
            ]
        },
        "state": {
            "enum": [
                "submitted",
                "accepted",
                "published"
            ]
        },
        "published-year": {
            "type": "number"
        },
        "published-date": {
            "type": ["string", "null"], "format": "date-time"
        },
        "volume": {
            "type": [
                "string",
                "null"
            ]
        },
        "issue": {
            "type": [
                "string",
                "null"
            ]
        },
        "suppl": {
            "type": [
                "string",
                "null"
            ]
        },
        "art_no": {
            "type": [
               "string",
               "null"
            ]
        },
        "page_count": {
            "type": [
               "string",
               "null"
            ]
        },
        "journal": {
            "title": "Journal",
            "description": "Peer-reviewed journal",
            "type": "object",
            "additionalItems": false,
            "items": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "np_series": {
                        "type": "string"
                    },
                    "series": {
                        "type": "string"
                    },
                    "series_no": {
                        "type": "string"
                    }
                }
            }
        },
        "conference": {
            "title": "Conference",
            "description": "For abstracts and proceedings",
            "type": "object",
            "additionalItems": false,
            "items": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "place": {
                        "type": "string"
                    },
                    "country": {
                        "type": "string"
                    },
                    "dates": {
                        "type": "array",
                        "items": {
                            "type": ["string", null], "format":"date-time" 
                        }
                    }
                }
            }
        },
        "pages": {
            "title": "Publication pages",
            "description": "Either to and from page or the total no of pages",
            "type": "array",
            "additionalItems": false,
            "items": {
                "type": "string"
            }
        },
       
        "people": {
            "description": "People involved in creating the publication",
            "type": "array",
            "additionalItems": false,
            "required": [
                "first_name",
                "last_name",
                "roles",
                "organisation"
            ],
            "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                    "id": {
                        "type": "string"
                    },
                    "first_name": {
                        "type": "string"
                    },
                    "last_name": {
                        "type": "string"
                    },
                    "roles": {
                        "type": "array",
                        "items": {
                            "enum": [
                                "author",
                                "editor"
                            ]
                        }
                    },
                    "email": {
                        "type": [
                            "string",
                            "null"
                        ]
                    },
                    "links": {
                        "type": "array"
                    },
                    "organisation": {
                        "type": [
                            "string",
                            "null"
                        ]
                    }
                }
            }
        },
        "topics": {
            "title": "NPI topics",
            "description": "See https://github.com/npolar/api.npolar.no/blob/master/schema/dataset.json",
            "type": "array",
            "additionalItems": false,
            "items": {
                "type": "string",
                "enum": [
                    "atmosphere",
                    "biology",
                    "chemistry",
                    "climate",
                    "conservation",
                    "ecology",
                    "ecotoxicology",
                    "environment",
                    "geophysics",
                    "geology",
                    "glaciology",
                    "management",
                    "marine",
                    "maps",
                    "oceanography",
                    "other",
                    "remote-sensing",
                    "seaice",
                    "terrestrial",
                    "topography",
                    "vegetation"
                ]
            }
        },
        "organisations": {
            "description": "Organisations involved",
            "type": "array",
            "additionalItems": false,
            "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                    "id": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "roles": {
                        "type": "array",
                        "items": {
                            "enum": [
                                "publisher",
                                "originator",
                                "owner",
                                "resourceProvider"
                            ]
                        }
                    }
                }
            }
        },
        "tags": {
            "additionalItems": false,
            "type": "array",
            "items": {
                "type": "string"
            }
        },
        "links": {
            "type": "array",
            "additionalItems": false,
            "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                    "rel": {
                        "type": "string"
                    },
                    "href": {
                        "type": "string",
                        "format": "uri"
                    },
                    "hreflang": {
                        "type": [
                            "string",
                            "null"
                        ]
                    },
                    "title": {
                        "type": [
                            "string",
                            "null"
                        ]
                    },
                    "type": {
                        "type": "string"
                    }
                }
            }
        },
        "locations": {
            "title": "locations",
            "description": "Selected locations",
            "type": "array",
            "additionalItems": false,
            "items": {
                "type": "string",
                "enum": [
                    "The Arctic - Arctic Ocean",
                    "The Arctic - Bjørnøya",
                    "The Arctic - Fram Strait",
                    "The Arctic - Jan Mayen",
                    "The Arctic - Eastern Barents Sea",
                    "The Arctic - Northern Barents Sea",
                    "The Arctic - Svalbard - Barentsøya",
                    "The Arctic - Svalbard - Edgeøya",
                    "The Arctic - Svalbard - Hopen",
                    "The Arctic - Svalbard - Spitsbergen",
                    "The Arctic - Svalbard - Nordaustlandet",
                    "The Arctic - Svalbard - other islands",
                    "The Arctic - other areas",
                    "The Antarctic - Bouvetøya",
                    "The Antarctic - Dronning Maud Land",
                    "The Antarctic - Southern Ocean",
                    "The Antarctic - other areas",
                    "Russia",
                    "Elsewhere"
                ]
            }
        },
         "research_station": {
            "title": "NP research stations",
            "description": "NPs research stations",
            "type": "array",
            "additionalItems": false,
            "items": {
                "type": "string",
                "enum": [
                    "troll",
                    "ny-alesund",
                    "zeppelin"
                ]
          }
        },
        "comment": {
            "type": "string"
        },
        "created": {
            "description": "Document was published",
            "type": "string",
            "format": "date-time"
        },
        "updated": {
            "description": "Document was updated",
            "type": "string",
            "format": "date-time"
        },
        "created_by": {
            "type": "string"
        },
        "updated_by": {
            "type": "string"
        },
        "_id": {
            "type": "string"
        },
        "_rev": {
            "type": "string"
        },
        "_attachment": {
            "type": "object"
        }
    }
}
