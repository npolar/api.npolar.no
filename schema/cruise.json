{
  "id": "http://api.npolar.no/schema/cruise",
  "$schema": "http://json-schema.org/draft-04/schema",
  "title": "Cruise",
  "description": "Norwegian Polar Data cruise schema, should be compatible with SeaDataNet Cruise Summary Report",
  "type": "object",
  "properties": {
    "id": {
      "description": "Resource identifier (UUID).",
      "type": "string"
    },
    "schema": {
      "description": "Schema defining this object (this schema).",
      "type": "string",
      "enum": [
        "http://api.npolar.no/schema/cruise"
      ]
    },
    "lang": {
      "description": "The language of the document.",
      "type": "string",
      "default": "en",
      "pattern": "^[a-z]{2}$"
    },
    "originator": {
      "description": "X18 institution NPI keeps the cruise entry on behalf of",
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
           "organisation": {
                "type":"string"
            },
           "edmo_code": {
                "type":"integer",
                "enum":[9999]
            },
           "phone": {
                "type":"string"
            },
           "fax": {
                "type":"string"
            },
           "city": {
                "type":"string"
           },
           "zip_code": {
                "type":"string"
           },
           "country": {
                "type":"string"
           },
           "email": {
                "type":"string"
           },
           "website": {
                "type":"string"
           }
      }
    },
     "title": {
      "description": "X16 Cruise name",
      "type": "string"
    },
     "alternate_title": {
      "description": "X16 cruise ID",
      "type": "string"
    },
     "summary": {
      "description": "X19 Objectives of the cruise",
      "type": "string"
    },
    "people": {
      "description": "X20 List of people participating on the cruise.",
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "id": {
            "description": "Norwegian Polar Data personal ID",
            "type": [
              "string",
              "null"
            ]
          },
          "first_name": {
            "description": "First and middle name",
            "type": "string"
          },
          "last_name": {
            "description": "Last name",
            "type": "string"
          },
          "organisation": {
            "type": "string"
          },
           "phone": {
                "type":"string"
            },
           "fax": {
                "type":"string"
            },
           "city": {
                "type":"string"
           },
           "zip_code": {
                "type":"string"
           },
           "country": {
                "type":"string"
           },
           "email": {
                "type":"string"
           },
           "website": {
                "type":"string"
           },
          "roles": {
            "description": "List of roles performed by this person",
            "type": "array",
            "items": {
              "description": "role",
              "type": "string",
              "enum": [
                "expedition_leader",
                "field_assistant",
                "principal_investigator",
                "processor",
                "point_of_contact"
              ]
          },
          "start_date": {
            "description": "stats to keep track of research days in field",
            "type": "string",
            "format": "date-time"
          },
          "end_date": {
            "description": "X39 - The date and time the expedition returned.",
            "type": "string",
            "format": "date-time"
          },
            "additionalItems": false
      },
     "activity": {
      "description": "list of activite periods for the platform",
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "departed_date": {
            "description": "X39 - The date and time the expedition departed.",
            "type": "string",
            "format": "date-time"
          },
          "departure_placename": {
            "description": "The placename of the departure location.",
            "type": "string"
          },
          "departure_country": {
            "description": "The country of the departure location.",
            "type": "string",
            "format": "date-time"
          },
          "returned_date": {
            "description": "X39 - The date and time the expedition returned.",
            "type": "string",
            "format": "date-time"
          },
          "return_placename": {
            "description": "The placename of the return location.",
            "type": "string"
          },
          "return_country": {
            "description": "The country of the return location.",
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "additionalItems": false
    },
    "ship_name": {
          "description": "X27 - The name of the vessel or vehicle. Example 'RV Lance.'",
          "type": "string",
          "enum": ["Lance", "XXX"]
    },
    "ship_type":{
          "description": "X28 - Ship type ex research vessel",
          "type": "string",
          "enum": ["research_vessel"]
    },
     "limitations":{
      "description": "X34 SeaDataNet - use limitations",
      "type": "string"
    },
    "availability":{
      "description": "X35 SeaDataNet availability  - licence, no access, unknown, unrestricted",
      "type": "string",
      "enum": ["LI","NA","UK","UN"]
    },
     "locations": {
      "description": "A list of one or more Geographic locations relevant to the expedition.",
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "start_date": {
            "description": "Th.",
            "type": "string"
          },
           "end_date": {
            "description": "The placename of the departure location.",
            "type": "string"
          },
          "hemisphere": {
            "description": "Indicates the hemisphere in which the location resides. Options are 'N' or 'S'",
            "type": "string",
            "pattern": "^[nsNS]{1}$"
          },
          "area": {
            "description": "Name identifiying the general area of the location.",
            "type": "string"
          },
          "predefined_locality": {
            "description": "predefined areas",
            "type": "string",
            "enum": ["fram_strait", "arctic_ocean", "barents_sea_north", "southern_ocean", "other"]
          },
          "country": {
            "description": "[Country code](http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2). With the exception of 'NO' to be used for Svalbard, Jan Mayen, Bouvetøya, Peter I Øy. 'AQ' should be used for Antarctica and 'XZ' for international waters. ",
            "type": "string",
            "pattern": "^(([A-Z]|[a-z]){2})$"
          },
          "placename": {
            "description": "The official placename of the location.",
            "type": "string"
          },
           "north": {
            "description":"X44 north",
            "type": "number",
            "maximum": 90.0,
            "minimum": -90.0
          },
          "east": {
            "description":"X42 east",
            "type": "number",
            "maximum": 180.0,
            "minimum": -180.0
          },
          "south": {
            "description":"X43 south",
            "type": "number",
            "maximum": 90.0,
            "minimum": -90.0
          },
          "west": {
            "description":"X41 west",
            "type": "number",
            "maximum": 180.0,
            "minimum": -180.0
          }
        }
      },
      "additionalItems": false
    },
    "links": {
            "description": "List of relevant links related to this person",
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "href": {
                  "description": "Uniform Resource Identifier following http://tools.ietf.org/html/rfc3986",
                  "type": "string",
                  "format": "uri"
                },
                "hreflang": {
                  "description": "Language of the linked resource",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "rel": {
                  "description": "Resource relation to the current document",
                  "type": "string"
                },
                "title": {
                  "description": "Title of linked resource",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "type": {
                  "description": "Mime-type of linked resource",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "length": {
                  "description": "Content Length of the linked resource",
                  "type": [
                    "number",
                    "null"
                  ]
                }
              }
            },
            "additionalItems": false
          }
      },
       "tags": {
      "description": "A list of one or more free text keywords describing the cruise.",
      "type": "array",
      "items": {
        "description": "A free text keyword",
        "type": "string"
      },
      "additionalItems": false
    },
    "progress": {
      "description": "The progression state of the expedition.",
      "type": "string",
      "enum": [
        "planned",
        "ongoing",
        "completed",
        "cancelled"
      ]
    },
    "draft": {
      "description": "The publication state of the document.",
      "type": "string",
      "enum": [
        "yes",
        "no"
      ]
    },
     "research": {
      "description": "list of activite periods for the platform",
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "title":{
            "description": "Project title",
            "type": "string"
          },
          "type":{
            "description": "Add one or more disciplines used in RiS",
            "type": "string",
            "enum":["research_monitoring",
                    "research_project",
                    "not_research"]
          },
          "ris_disciplines": {
            "description": "Add one or more disciplines used in RiS",
            "type": "string",
            "enum":["atmosphere",
                    "marine_biology",
                    "terrestrial_biology",
                    "cryosphere",
                    "geology",
                    "oceanography",
                    "social_sciences",
                    "space_physics",
                    "technology_and_engineering",
                    "other"]
          }
        },
        "additionalProperties": false
      },
      "additionalItems": false
    },
    "collection": {
      "description": "The storage collection the document belongs to.",
      "type": "string",
      "enum": [
        "expedition"
      ]
    },
    "comment": {
      "description": "A free text comment for anything of importance to the expedition description.",
      "type": "string"
    },
    "changes": {
      "description": "List the author can use to describe changes made to this description document",
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "datetime": {
            "description": "Date and time (iso8601) of the change.",
            "type": "string",
            "format": "date-time"
          },
          "name": {
            "description": "Full name of the editor.",
            "type": "string"
          },
          "email": {
            "description": "Email address of the editor.",
            "type": "string",
            "format": "email"
          },
          "comment": {
            "description": "A free text used to document the changes that where made.",
            "type": "string"
          },
          "rev": {
            "description": "The identifier of the revision that is described by this change log.",
            "type": "string"
          }
        },
        "additionalProperties": false,
        "required": [
          "datetime",
          "name",
          "rev"
        ]
      },
      "additionalItems": false
    },
    "created": {
      "description": "X12 - The date the document was created.",
      "type": "string",
      "format": "date-time"
    },
    "updated": {
      "description": "X16/X77 The date the document was last updated.",
      "type": "string",
      "format": "date-time"
    },
    "created_by": {
      "description": "The username of the person who first created the document in the system.",
      "type": "string"
    },
    "updated_by": {
      "description": "The username of the person who last updated the document in the system.",
      "type": "string"
    },
    "_id": {
      "description": "Internal resource identifier.",
      "type": "string"
    },
    "_rev": {
      "description": "Internal revision number.",
      "type": "string"
    },
    "_attachments": {
      "description": "X21 - Internal object used to store and track attachments.",
      "type": "object"
    }
  },
  "additionalProperties": false
}
