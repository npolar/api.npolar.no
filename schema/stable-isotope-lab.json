{
	"id": "http://api.npolar.no/schema/stable-isotope-lab",
	"$schema": "http://json-schema.org/draft-04/schema",
	"title": "Stable isotope lab results",
	"description": "Norwegian Polar Institute's stable isotope lab database.",
	"type": "object",
	"required": [
		"id",
		"schema"
	],
	"properties": {
		"id": {
			"description": "Resource identifier (UUID).",
			"type": "string"
		},
		"schema": {
			"description": "Schema defining this object (this schema).",
			"type": "string",
			"enum": [
				"http://api.npolar.no/schema/stable-isotope-lab"
			]
		},
		"lang": {
			"description": "The language of the document",
			"type": "string",
			"default": "en",
			"pattern": "^[a-z]{2}$"
		},
		"laboratory": {
			"description": "Name of laboratory performing analysis",
			"enum": ["IFE", "UAA"],
			"type": "string"
		},
		"lab_report_no": {
			"description": "report id given by the lab (batch job of results, IFE_report_no)",
			"type": "string"
		},
		"IFE_no": {
			"description": "report id given by the lab (batch job of results)",
			"type": "string"
		},

		"sub_matrix": {
			"description": "matrix or tissue analysed by the lab",
			"type": "string"
		},
		"NPI_sample_id": {
			"description": "Sample ID used by NPI",
			"type": "string"
		},
		"lab_sample_id": {
			"description": "Sample ID used by the lab",
			"type": "string"
		},
		"database_id": {
			"description": "ID from the fieldwork database",
			"type": "string",
			"format": "uri"
		},
		"fieldwork_database": {
			"description": "Connected to fieldwork database",
			"type": "string",
			"enum": ["ecotox-fieldwork", "marine_sample"],
			"format": "uri"
		},
		"date_report": {
			"description": "Date of the report",
			"format": "date-time",
			"type": "string"
		},
		"excel": {
			"description": "Original excel file(s)",
			"type": "array",
			"additionalItems": false,
			"items": {
				"type": "object",
				"additionalProperties": false,
				"properties": {
					"excel_uri": {
						"description": "Uri to excel form",
						"type": "string",
						"format": "uri"
					},
					"excel_filename": {
						"description": "Excel filename",
						"type": "string"
					},
					"excel_type": {
						"description": "Excel type",
						"type": "string"
					},
					"excel_length": {
						"description": "Excel file length",
						"type": "integer"
					}
				}
			}
		},
		"comment": {
			"description": "A free text comment for anything of importance to the batch samples.",
			"type": ["string", "null"]
		},
		"compound": {
			"type": "array",
			"additionalItems": false,
			"items": {
				"type": "object",
				"additionalProperties": false,
				"properties": {
					"stable isotope": {
						"description": "Name of stable isotope",
						"type": "string",
						"enum": ["d13Cpdb-EA", "d15Nair-EA"]
					},
					"C_N": {
						"description": "??",
						"type": "float"
					},
					"value_permille": {
						"description": "stable isotope percent value",
						"type": ["number", "null"]
					},
					"unit": {
						"description": "measured  unit â€“ needed ?????",
						"type": "string",
						"enum": [""]
					},
					"procedure": {
						"description": "Lab procedure to find the stable isotopes",
						"type": ["string", "null"]
					},
					"quality_assurance": {
						"description": "Standard accuracy and precision of analysis",
						"type": ["string", "null"]
					},
					"comment": {
						"description": "Sample comment",
						"type": ["string", "null"]
					}
				}
			}
		},
		"collection": {
			"description": "The storage collection the document belongs to.",
			"type": "string",
			"enum": [
				"ecotox"
			]
		},
		"created": {
			"description": "The date the document was created.",
			"type": "string",
			"format": "date-time"
		},
		"updated": {
			"description": "The date the document was last updated.",
			"type": "string",
			"format": "date-time"
		},
		"created_by": {
			"description": "The username of the person who first created the document in the system.",
			"type": "string"
		},
		"updated_by": {
			"description": "The username of the person who last updated the document in the system.",
			"type": "string"
		},
		"_id": {
			"description": "Internal resource identifier.",
			"type": "string"
		},
		"_rev": {
			"description": "Internal revision number.",
			"type": "string"
		},
		"_deleted": {
			"description": "Deleted entry",
			"type": "string"
		},
		"@context": {
			"stable_isotope_id": "https://api.npolar.no/stable-isotope-lab",
			"NPI_sample_id": {
				"@id": "https://api-test.data.npolar.no/ecotox-fieldwork/?q=&filter-NPI_sample_id="
			}
		}
	}
}
