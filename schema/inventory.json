{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "http://api.npolar.no/schema/inventory-1.0-rc1",
  "type": "object",
  "additionalProperties": false,
  "required": ["category"],
  "properties": {
    "id": {
      "type": "string"
    },
    "collection": {
      "type": "string",
      "default": "inventory"
    },
    "schema": {
      "type": "string"
    },
    "category": {
      "type": "string",
      "enum": [
      "airstrip",
      "building",
      "contamination",
      "cultural heritage",
      "data collection",
      "depot",
      "field hut",
      "heliport",
      "instrument",
      "operational activity",
      "other",
      "research monitoring",
      "research project",
      "research station",
      "unknown"]
    },
    "title":{
      "type": "string"
    },
     "description": {
      "type": "string"
    },
     "ephorte_no": {
      "type": "string"
    },
    "release_date": {
      "type": "string",
      "format": "date-time"
    },
    "intended_removal_date": {
      "type": "string",
      "format": "date-time"
    },
    "removal_date": {
      "type": "string",
      "format": "date-time"
    },
    "comment_date": {
       "type": "string"
    },
    "rock_samples": {
        "type": "boolean"
    },
    "soil_samples": {
        "type": "boolean"
    },
    "sediment_samples": {
        "type": "boolean"
    },
    "flora_samples": {
        "type": "boolean"
    },
    "fauna_samples": {
        "type": "boolean"
    },
    "interference_fauna_flora": {
        "type": "boolean"
    },
    "introduced_species": {
        "type": "boolean"
    },
    "animal_censors": {
        "type": "boolean"
    },
    "explosives": {
        "type": "boolean"
    },
    "radionucleides": {
        "type": "boolean"
    },
    "ice_sampling": {
        "type": "boolean"
    },
    "ice_coring": {
        "type": "boolean"
    },
    "snow_sampling": {
        "type": "boolean"
    },
    "air_sampling": {
        "type": "boolean"
    },
    "water_sampling": {
        "type": "boolean"
    },
    "other_invasive_activity": {
        "type": "boolean"
    },
    "field_hut": {
          "description": "Location is a field camp",
          "type": "boolean"
    },
    "research_station": {
            "type": "boolean"
    },
    "cultural_heritage":{
            "type": "boolean"
    },
    "airstrip": {
            "type": "boolean"
    },
    "heliport":{
            "type": "boolean"
    },
     "stationary_other":{
            "type": "string"
    },
    "stationary_quantity": {
            "type": "string"
    },
    "people": {
      "type": "array",
      "additionalItems": false,
      "items": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string"
          },
          "first_name": {
            "type": "string"
          },
          "last_name": {
            "type": "string"
          },
          "email": {
            "type": "string",
            "format": "email"
          },
          "phone": {
            "type": "string"
          },
          "role": {
            "type": "string",
            "enum": ["leader", "participant", "observer"]
          },
          "organisation": {
            "type": "string"
          }
        }
      }
    },
    "organisations": {
      "type": "array",
      "additionalItems": false,
      "items": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "name": {
            "type": "string"
          },
          "address": {
              "type": "string"
          },
          "zip": {
              "type": "string"
          },
          "city": {
              "type": "string"
          },
          "country": {
              "type": "string"
          },
          "href": {
            "type": "string",
            "format": "uri"
          }
        }
      }
    },
     "locations": {
      "type": "array",
      "additionalItems": true,
      "items": {
        "type": "object",
        "additionalProperties": true,
        "properties": {
          "placename": {
            "type": "string"
          },
          "area": {
            "type": "string"
          },
          "country": {
            "description": "[Country code](http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2), use 'NO' for Norway, including Svalbard and Jan Mayen, Bouvetøya, and Peter I Øy. 'AQ' = Antarctica and 'XZ' = International waters",
            "type": [
              "string",
              "null"
            ],
            "pattern": "^(([A-Z]|[a-z]){2})$"
          },
          "hemisphere": {
            "description": "Hemisphere: N or S",
            "type": ["S"]
          },
          "gps": {
                "type": "array",
                "additionalItems": false,
                "items": {
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                     "latitude": {
                        "type": "number",
                        "minimum": -90.0,
                        "maximum": 90.0
                      },
                      "longitude": {
                        "type": "number",
                        "minimum": -180.0,
                        "maximum": 180.0
                      },
                      "geometry": {
                        "type": "object",
                        "description": "[GeoJSON geometry object](http://geojson.org/geojson-spec.html#geometry-objects)"
                      }
                  }
                }
          },
          "place": {
             "type": ["string","null"],
             "enum":["troll","tor","shelf_traverse"]
          },
          "comment": {
            "description": "Description f.ex. about location, monitoring fields, field camps etc",
            "type": "string"
          }
          }
          }
          },
          "instrument": {
                "type": "array",
                "additionalItems": false,
                "items": {
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                     "instrument": {
                        "type": "string"
                      },
                      "instrument_description": {
                        "type": "string"
                      },
                      "quantity": {
                        "type": "string"
                      }
                  }
                }
          },
          "fuel": {
                "type": "array",
                "additionalItems": false,
                "items": {
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                     "fuel_tank": {
                        "type": "string"
                      },
                      "quantity": {
                        "type": "string"
                      },
                      "content": {
                        "type": "string",
                        "enum": ["diesel","JET-A1","benzin"]
                      },
                      "drum_full":{
                          "type": "boolean"
                      },
                      "drum_emptied":{
                          "type": "boolean"
                      },
                       "expiration_date":{
                          "type": "string",
                          "format": "date-time"
                      }
                  }
                }
           },
           "contamination": {
                "type": "array",
                "additionalItems": false,
                "items": {
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                     "type": {
                        "type": "string",
                        "enum": [
                            "metals",
                            "glass",
                            "mixed waste",
                            "paper/card board",
                            "plastics",
                            "food waste, compost",
                            "sewage, urine (non-composted)",
                            "oil contaminated items",
                            "sewage compost",
                            "chemicals and batteries"
                          ] },
                      "quantity": {
                        "type": "string"
                      },
                      "priority": {
                      "type": "string",
                      "enum": [
                          "high priority for remediation",
                          "medium priority for remediation",
                          "low priority for remediation",
                          "further assessment required",
                          "post-remediation monitoring"
                        ]
                      },
                      "impact_likelihood": {
                          "type": "string",
                          "enum": [
                             "almost certain",
                             "likely",
                             "possible",
                             "unlikely"]
                      },
                      "impact_spatial": {
                          "type": "string",
                          "enum": [
                            "local <100 sq km",
                            "immediate 100m – 1 sq km",
                            "widespread >1 sq km"
                       ]},
                      "impact_temporal":{
                          "type": "string",
                          "enum": [
                            "short term <1 year",
                            "intermediate 1-10 years",
                            "long term > 10 years"
                       ]},
                       "impact_documented":{
                           "type": "boolean"
                      }
                  }
                }
           },
          "links": {
            "type": "array",
            "additionalItems": false,
            "items": {
              "type": "object",
              "additionalProperties": false,
              "properties": {
                "rel": {
                  "type": "string"
                },
                "href": {
                  "type": "string",
                  "format": "uri"
                },
                "title": {
                  "type": ["string", "null"]
                },
                "hreflang": {
                  "type": ["string", "null"]
                },
                "type": {
                  "type": "string"
                }
              },
              "required": ["rel", "href"]
            }
          },
          "created": {
            "description": "Footprint entry was published",
            "type": "string",
            "format": "date-time"
          },
          "updated": {
            "description": "Footprint was updated",
            "type": "string",
            "format": "date-time"
          },
          "created_by": {
            "type": "string"
          },
          "updated_by": {
            "type": "string"
          },
          "_id": {
            "description": "Internal id",
            "type": "string"
          },
          "_rev": {
            "description": "Internal revision",
            "type": "string"
          },
          "_deleted": {
            "description": "Deleted entry",
            "type": "boolean"
          }
}
}
